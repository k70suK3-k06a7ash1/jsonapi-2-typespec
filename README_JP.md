# JSON API ⇄ TypeSpec Converter

## 概要

このリポジトリは、JSON APIシリアライザーの定義とTypeSpecの間で相互変換を行うためのツールです。

### 主な機能

- **JSON API → TypeSpec**: JSON APIシリアライザーの定義をTypeSpec形式に変換
- **TypeSpec → JSON API**: TypeSpec定義をJSON APIシリアライザー形式に変換
- **OpenAPI統合**: 両方向の変換結果を最新のOpenAPIスキーマに出力

### 用途

- API設計の一貫性を保つ
- 既存のJSON APIシリアライザーからTypeSpecへの移行
- TypeSpecからJSON APIシリアライザーの自動生成
- OpenAPIドキュメントの自動生成

## アーキテクチャ

```
JSON API Serializer ←→ TypeSpec ←→ OpenAPI Schema
```

JSON APIシリアライザーとTypeSpec定義は相互に変換でき、どちらもドキュメント化やツール連携のためのOpenAPIスキーマを生成できます。

## プロジェクト構造

### ソースディレクトリの構成

プロジェクトは構造化されたソースコード構成に従います：

```
src/
├── json-api/          # JSON API シリアライザー定義
├── typespec/          # TypeSpec 定義  
├── converters/        # フォーマット間の変換ロジック
└── generators/        # OpenAPI スキーマジェネレーター
```

### 単一情報源（SSoT）としてのドキュメント管理

このプロジェクトはドキュメント駆動型のアプローチを実装しています：

- **主要ソース**: JSON APIシリアライザーとTypeSpec定義が権威ある情報源として機能
- **生成ドキュメント**: すべてのAPIドキュメントはこれらのソースから自動生成
- **一貫性**: 双方向変換により、すべてのドキュメント形式間の一貫性を保証
- **バージョン管理**: すべてのソース定義がバージョン管理され、API変更の完全な履歴を維持

`docs/` ディレクトリには生成されたドキュメントが含まれており、ソース定義から自動的に更新されるため手動で編集すべきではありません。

### 自動ドキュメント更新

オリジンドキュメントファイルが編集されると、システムは以下を自動的に更新します：

- `README.md`（英語ドキュメント）
- `README_JP.md`（日本語ドキュメント）
- 生成されたOpenAPIスキーマ
- すべての派生ドキュメント形式

これにより、ソース定義への変更がすべてのドキュメントに即座に反映され、異なるドキュメント形式間の一貫性を維持し、ドキュメント間の乖離を防ぎます。